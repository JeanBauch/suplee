<template>
  <div class="container mx-auto mt-16">
    <div class="flex">
      <article class="w-2/3 pb-64">
        <h1 class="font-semibold text-3xl my-4">
          My Article
        </h1>
        <section>
          <h3 id="1" class="font-semibold text-2xl py-4">
            Section 1
          </h3>
          <p class="w-[80%]">
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
          </p>
        </section>
        <section>
          <h3 id="2" class="font-semibold text-2xl py-4">
            Section 2
          </h3>
          <p class="w-[80%]">
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
          </p>
        </section>
        <section>
          <h3 id="3" class="font-semibold text-2xl py-4">
            Section 3
          </h3>
          <p class="w-[80%]">
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
          </p>
        </section>
        <section>
          <h3 id="4" class="font-semibold text-2xl py-4">
            Section 4
          </h3>
          <p class="w-[80%]">
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
          </p>
        </section>
        <section>
          <h3 id="5" class="font-semibold text-2xl py-4">
            Section 5
          </h3>
          <p class="w-[80%]">
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?

            Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga dolorem adipisci debitis, accusamus architecto, minima pariatur iste obcaecati aspernatur placeat autem molestiae quia earum sequi sit. Ratione, accusantium repudiandae?
          </p>
        </section>
      </article>
      <div class="1/3">
        <div class="sticky top-5">
          <div class="flex flex-col">
            {{ currentSection }}
            <span :class="{ 'border-l-dark-normal font-semibold': 1 == currentSection }" class="px-4 py-2 border-l-2 border-complement-background-gray">Section 1</span>
            <span :class="{ 'border-l-dark-normal font-semibold': 2 == currentSection }" class="px-4 py-2 border-l-2 border-complement-background-gray">Section 2</span>
            <span :class="{ 'border-l-dark-normal font-semibold': 3 == currentSection }" class="px-4 py-2 border-l-2 border-complement-background-gray">Section 3</span>
            <span :class="{ 'border-l-dark-normal font-semibold': 4 == currentSection }" class="px-4 py-2 border-l-2 border-complement-background-gray">Section 4</span>
            <span :class="{ 'border-l-dark-normal font-semibold': 5 == currentSection }" class="px-4 py-2 border-l-2 border-complement-background-gray">Section 5</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup>
import { ref, onMounted } from "vue";

const currentSection = ref("");

onMounted(() => {
  const observer = new IntersectionObserver((entries) => {
    entries.forEach((entry) => {
      if (entry.intersectionRatio > 0) {
        currentSection.value = entry.target.getAttribute("id");
      }
    });
  },
  {
    rootMargin: "0px 0px -90% 0px"
  }
  );
  document.querySelectorAll("article h3").forEach((section) => {
    observer.observe(section);
  });
});

</script>
